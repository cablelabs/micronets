<!DOCTYPE html>
<html lang="en">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Websocket Proxy - CableLabs Micronets</title>
<meta name="description" content="Developer documentation for CableLabs Micronets">
<meta name="generator" content="Hugo 0.54.0" />
<link href="https://cablelabs.github.io/micronetsindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://cablelabs.github.io/micronets/server-components/websocket-proxy/">
<link rel="stylesheet" href="https://cablelabs.github.io/micronets/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://cablelabs.github.io/micronets/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cablelabs.github.io/micronets/js/functions.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://cablelabs.github.io/micronets/js/jquery.backtothetop/jquery.backtothetop.min.js"></script></head>
<body>
<div class="container"><header>
<h1>CableLabs Micronets</h1>
<a href="https://github.com/cablelabs/micronets" class="github"><i class="fab fa-github"></i></a>
<p class="description">Developer documentation for CableLabs Micronets</p>

</header>
<div class="menu">
<nav>
<ul>
<li><a href="/micronets/">Micronets Home</a></li>
<li><a href="https://www.cablelabs.com/micronets">About Micronets</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>Websocket Proxy</h1><h2 id="abstract-what-it-does">Abstract/What it does</h2>

<p>The Micronets Websocket Proxy allows peers to establish a secure end-to-end websocket channel by connecting to a common URI on the Proxy. This allows two peers to rendezvous and communicate without exposing any interfaces or ports. Authentication is currently performed using client certificate validation. And the proxy can support as many connections as the host system can support.</p>

<p>Proxy clients are authenticated using X.509 client certificates provided in the secure websocket TLS exchange.</p>

<h2 id="how-is-it-instantiated">How is it instantiated</h2>

<p>The Proxy includes support for <a href="https://github.com/cablelabs/micronets-ws-proxy#15-running-the-websocket-proxy-using-systemd">instantiation via systemd on Linux</a> or <a href="https://github.com/cablelabs/micronets-ws-proxy#16-running-the-websocket-proxy-using-docker">as a Docker container</a>.</p>

<h2 id="what-else-does-it-communicate-with">What else does it communicate with</h2>

<p>Currently the <a href="https://github.com/cablelabs/micronets/wiki/Micronets-manager">Micronets Manager</a> and its peer <a href="https://github.com/cablelabs/micronets/wiki/Micronets-gateway">Micronets Gateway</a> - which are paired one-for-one - establish their communication channel by connecting to a common URI on the Websocket Proxy. In production, the gateway and micronets manager establish a secure websocket connection using subscriber and box ID. e.g. &ldquo;wss://websocket-proxy-address:port/micronets/v1/ws-proxy/sub/8675309/00224dd149bb&rdquo;.</p>

<h2 id="what-apis-it-provides">What APIs it provides</h2>

<p>The Websocket Proxy uses the standard TLS and websocket protocol messaging to establish the connection. <a href="https://github.com/cablelabs/micronets-ws-proxy#5-websocket-message-format">A simple protocol is defined by the Proxy</a> <a href="https://github.com/cablelabs/micronets-ws-proxy#52-hello-message-definition">for performing the peer handshake</a>, <a href="https://github.com/cablelabs/micronets-ws-proxy#53-rest-request-definition">invoking REST APIs on the peers</a>, and <a href="https://github.com/cablelabs/micronets-ws-proxy#55-event-message-definition">performing asynchronous notifications</a>.</p>

<h2 id="link-s-to-details-on-how-to-build">Link(s) to details on how to build</h2>

<p>Instructions for building and running the Websocket Proxy <a href="https://github.com/cablelabs/micronets-ws-proxy#1-quick-start">can be found in the Micronets Websocket Proxy README</a></p>

<h2 id="link-s-to-details-on-how-to-deploy">Link(s) to details on how to deploy</h2>

<p>Instructions for deploying the Websocket Proxy <a href="https://github.com/cablelabs/micronets-ws-proxy#15-running-the-websocket-proxy-using-systemd">via Linux systemd</a> and <a href="https://github.com/cablelabs/micronets-ws-proxy#16-running-the-websocket-proxy-using-docker">via a Docker container</a> can be found in the Micronets Websocket Proxy.</p>

<p>Instructions for <a href="https://github.com/cablelabs/micronets-ws-proxy#2-setting-up-proxy-authorization-using-certificates">generating the Proxy&rsquo;s server cert/key</a> <a href="https://github.com/cablelabs/micronets-ws-proxy#2-setting-up-proxy-authorization-using-certificates">generating the Proxy&rsquo;s server cert/key</a>, <a href="https://github.com/cablelabs/micronets-ws-proxy#23-generating-the-cert-to-be-used-for-the-micronets-manager">generating the peer client certs/keys</a>, and <a href="https://github.com/cablelabs/micronets-ws-proxy#21-generating-the-shared-root-certificate-used-for-websocket-communication">generating the root certificate/key used for validating/signing the server and client certs</a> are also contained in the Proxy README.</p>

<h2 id="link-s-to-api-docs">Link(s) to API docs</h2>

<p>The <a href="https://github.com/cablelabs/micronets-ws-proxy#5-websocket-message-format">Websocket Proxy protocol</a> is documented in the Micronets Websocket Proxy README</p>

<div class="edit-meta">

<br></div>
<nav class="pagination"><a class="nav nav-prev" href="/micronets/server-components/mud-tools/" title="MUD Services"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - MUD Services</a>
<a class="nav nav-next" href="/micronets/server-components/using-docker/" title="Using Docker">Next - Using Docker <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer>
</footer>
</main><div class="sidebar">
<nav>
<ul>
<li class=""><a href="https://cablelabs.github.io/micronets">Home</a></li>

<li class=""><a href="/micronets/getting-started/">Getting Started</a>
</li>

<li class=""><a href="/micronets/micronets-gateway/">Micronets Gateway</a>
<ul class="">
<li class=""><a href="/micronets/micronets-gateway/example-interfaces-file/">Example /etc/network/interfaces</a></li>
</ul>
  
</li>

<li class="parent"><a href="/micronets/server-components/">Server Components</a>
<ul class="sub-menu">
<li class=""><a href="/micronets/server-components/micronets-manager/">Micronets Manager</a></li>
<li class=""><a href="/micronets/server-components/identity-server/">Identity Server</a></li>
<li class=""><a href="/micronets/server-components/mso-portal/">MSO Portal</a></li>
<li class=""><a href="/micronets/server-components/registration-server/">Registration Server</a></li>
<li class=""><a href="/micronets/server-components/auth-server/">Authorization Server</a></li>
<li class=""><a href="/micronets/server-components/idora-server/">Idora Server</a></li>
<li class=""><a href="/micronets/server-components/mud-tools/">MUD Services</a></li>
<li class="active"><a href="/micronets/server-components/websocket-proxy/">Websocket Proxy</a></li>
<li class=""><a href="/micronets/server-components/using-docker/">Using Docker</a></li>
</ul>
  
</li>

<li class=""><a href="/micronets/test-components/">Test Components</a>
<ul class="">
<li class=""><a href="/micronets/test-components/idora-client/">Idora Client App</a></li>
<li class=""><a href="/micronets/test-components/qr-code-scanner/">QR Code Scanner</a></li>
<li class=""><a href="/micronets/test-components/protomed-device/">ProtoMed Device</a></li>
</ul>
  
</li>


</ul>
</nav>


<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
